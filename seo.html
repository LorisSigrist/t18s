<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <link href=./favicon.svg rel=icon type=image/svg+xml> <meta content="width=device-width" name=viewport> <link href=./_app/immutable/assets/0.d819edb9.css rel=stylesheet> <link href=./_app/immutable/assets/Prism.59b1fbdf.css rel=stylesheet> <link href=./_app/immutable/entry/start.a1d86707.js rel=modulepreload> <link href=./_app/immutable/chunks/index.e52fc4ee.js rel=modulepreload> <link href=./_app/immutable/chunks/routing.f0b9763f.js rel=modulepreload> <link href=./_app/immutable/chunks/singletons.acae4f2b.js rel=modulepreload> <link href=./_app/immutable/chunks/index.cdf41a75.js rel=modulepreload> <link href=./_app/immutable/entry/app.86b15ecd.js rel=modulepreload> <link href=./_app/immutable/chunks/index.7324fa1a.js rel=modulepreload> <link href=./_app/immutable/nodes/0.0e62fcca.js rel=modulepreload> <link href=./_app/immutable/chunks/stores.0f4023d4.js rel=modulepreload> <link href=./_app/immutable/nodes/2.652779e4.js rel=modulepreload> <link href=./_app/immutable/chunks/x-mark.e44dfe9b.js rel=modulepreload> <link href=./_app/immutable/chunks/_commonjsHelpers.9087c66b.js rel=modulepreload> <link href=./_app/immutable/chunks/github.97dc1384.js rel=modulepreload> <link href=./_app/immutable/nodes/11.8aa91e52.js rel=modulepreload> <link href=./_app/immutable/chunks/Prism.5b7fe600.js rel=modulepreload> <link href=./_app/immutable/chunks/Callout.70eb9fc4.js rel=modulepreload><!-- HEAD_svelte-oslngo_START --><link href=/seo rel=alternate hreflang=en> <link href=/seo rel=alternate hreflang=x-default><!-- HEAD_svelte-oslngo_END --> </head> <body data-sveltekit-preload-data=hover> <div style=display:contents> <div class="flex inset-0 fixed flex-col-reverse md:flex-row"><aside class="overflow-y-auto flex-col gap-8 hidden md:flex pt-16 px-12 w-96" role=banner><header><span class="flex items-center gap-2"><img alt=t18s class="h-8 w-8" src=/icon.svg> <span class="font-bold text-gray-950 text-lg">T18S</span></span></header> <nav class="grid gap-2"><div class=grid><h3 class="font-bold pb-2 pt-4 text-gray-500 text-sm uppercase">Guide</h3> <a class="px-4 border-gray-100 border-l focus-visible:bg-orange-400/20 focus-visible:outline-none hover:bg-orange-50 outline-orange-400 py-1.5 relative rounded-r-md text-gray-700" href=/getting-started data-sveltekit-keepfocus>Getting Started</a> <a class="px-4 border-gray-100 border-l focus-visible:bg-orange-400/20 focus-visible:outline-none hover:bg-orange-50 outline-orange-400 py-1.5 relative rounded-r-md text-gray-700" href=/syntax data-sveltekit-keepfocus>Syntax</a> <a class="px-4 border-gray-100 border-l focus-visible:bg-orange-400/20 focus-visible:outline-none hover:bg-orange-50 outline-orange-400 py-1.5 relative rounded-r-md text-gray-700" href=/switching-locales data-sveltekit-keepfocus>Switching Locales</a> <a class="px-4 border-gray-100 border-l focus-visible:bg-orange-400/20 focus-visible:outline-none hover:bg-orange-50 outline-orange-400 py-1.5 relative rounded-r-md text-gray-700" href=/preloading data-sveltekit-keepfocus>Preloading</a></div> <div class=grid><h3 class="font-bold pb-2 pt-4 text-gray-500 text-sm uppercase">Best Practices</h3> <a class="px-4 border-gray-100 border-l focus-visible:bg-orange-400/20 focus-visible:outline-none hover:bg-orange-50 outline-orange-400 py-1.5 relative rounded-r-md text-gray-700 border-orange-600 text-orange-600" href=/seo data-sveltekit-keepfocus aria-current=page>SEO</a></div> <div class=grid><h3 class="font-bold pb-2 pt-4 text-gray-500 text-sm uppercase">Reference</h3> <a class="px-4 border-gray-100 border-l focus-visible:bg-orange-400/20 focus-visible:outline-none hover:bg-orange-50 outline-orange-400 py-1.5 relative rounded-r-md text-gray-700" href=/plugin-config data-sveltekit-keepfocus>Plugin Config</a> <a class="px-4 border-gray-100 border-l focus-visible:bg-orange-400/20 focus-visible:outline-none hover:bg-orange-50 outline-orange-400 py-1.5 relative rounded-r-md text-gray-700" href=/$t18s data-sveltekit-keepfocus>$t18s</a></div> <div class=grid><h3 class="font-bold pb-2 pt-4 text-gray-500 text-sm uppercase">Appendix</h3> <a class="px-4 border-gray-100 border-l focus-visible:bg-orange-400/20 focus-visible:outline-none hover:bg-orange-50 outline-orange-400 py-1.5 relative rounded-r-md text-gray-700" href=/comparisons data-sveltekit-keepfocus>Comparisons</a> <a class="px-4 border-gray-100 border-l focus-visible:bg-orange-400/20 focus-visible:outline-none hover:bg-orange-50 outline-orange-400 py-1.5 relative rounded-r-md text-gray-700" href=/roadmap data-sveltekit-keepfocus>Roadmap</a></div></nav> <footer><a class="grid focus-visible:text-orange-400 hover:text-orange-500 outline-offset-4 outline-orange-400 place-items-center rounded-full text-gray-300 w-min" href=https://github.com/LorisSigrist/t18s target=_blank><span class=sr-only>View on Github</span> <svg height=1.2em viewBox="0 0 24 24" width=1.2em class="h-6 w-6"><!-- HTML_TAG_START --><path d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" fill=currentColor /><!-- HTML_TAG_END --></svg></a></footer></aside> <header class="relative block md:hidden z-50"><div class="flex items-center bg-white border-t justify-between p-4 z-50"><a class="flex gap-2" href=/ ><img alt=t18s class="h-6 w-6" src=/icon.svg> <span class=font-semibold>T18S</span></a> <button><svg height=1.2em viewBox="0 0 24 24" width=1.2em class="h-6 w-6"><!-- HTML_TAG_START --><path d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=1.5 /><!-- HTML_TAG_END --></svg></button></div> </header> <main class="px-4 h-full overflow-y-auto pt-12 sm:pt-16 w-full"><div class="mb-12 prose"><h1>SEO</h1> <p>There are quite a few SEO related things you need to keep in mind when developing a multi-language site. This page will give you a quick overview of the most important ones. </p> <h2>Alternate Links</h2> <p>Alternate links are a way to tell search engines that a page exists in multiple languages, and where to find them. This is done by adding a link tag to the head of your page. </p> <p>You should add a link tag for each language your site is available in, including the one the page is currently in. </p> <div class="my-6 not-prose bg-zinc-900 dark:ring-1 dark:ring-white/10 overflow-hidden rounded-md shadow-md"><div class="dark:bg-white/2.5 group"> <div class=relative><div class="px-4 font-mono leading-6 overflow-x-auto py-3 text-white text-xs"> <pre class=language-HTML><code class=language-HTML><!-- HTML_TAG_START --><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alternate<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/en<span class="token punctuation">"</span></span> <span class="token attr-name">hreflang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alternate<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/de<span class="token punctuation">"</span></span> <span class="token attr-name">hreflang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>de<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><!-- HTML_TAG_END --></code></pre></div> <button class="transition absolute opacity-0 backdrop-blur bg-white/5 dark:bg-white/2.5 dark:hover:bg-white/5 focus-visible:bg-orange-400/20 focus-visible:ring-1 focus-visible:ring-orange-400 focus:opacity-100 font-medium group-hover:opacity-100 group/button hover:bg-white/7.5 outline-none overflow-hidden pl-2 pr-3 py-1 right-4 ring-inset rounded-full text-2xs text-sm top-2.5"><span class="flex items-center duration-300 pointer-events-none transition gap-0.5 text-zinc-400" aria-hidden=false><svg height=1.2em viewBox="0 0 24 24" width=1.2em className="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><!-- HTML_TAG_START --><path d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184c1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=1.5 /><!-- HTML_TAG_END --></svg> Copy </span> <span class="flex items-center duration-300 pointer-events-none transition -translate-y-1.5 absolute inset-0 justify-center opacity-0 text-emerald-400" aria-hidden=true>Copied! </span></button></div></div></div> <p>If you have a <i>"default lanugage"</i> that you want to use when the user's language is not available, you should add a link tag with the <code>hreflang</code> attribute set to <code>x-default</code>. This tells search engines that this is the default language. </p> <div class="my-6 not-prose bg-zinc-900 dark:ring-1 dark:ring-white/10 overflow-hidden rounded-md shadow-md"><div class="dark:bg-white/2.5 group"> <div class=relative><div class="px-4 font-mono leading-6 overflow-x-auto py-3 text-white text-xs"> <pre class=language-HTML><code class=language-HTML><!-- HTML_TAG_START --><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alternate<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/en<span class="token punctuation">"</span></span> <span class="token attr-name">hreflang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alternate<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/de<span class="token punctuation">"</span></span> <span class="token attr-name">hreflang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>de<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

    <span class="token comment">&lt;!--Use the english site as the default--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alternate<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/en<span class="token punctuation">"</span></span><span class="token attr-name">;</span> <span class="token attr-name">hreflang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>x-default<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<!-- HTML_TAG_END --></code></pre></div> <button class="transition absolute opacity-0 backdrop-blur bg-white/5 dark:bg-white/2.5 dark:hover:bg-white/5 focus-visible:bg-orange-400/20 focus-visible:ring-1 focus-visible:ring-orange-400 focus:opacity-100 font-medium group-hover:opacity-100 group/button hover:bg-white/7.5 outline-none overflow-hidden pl-2 pr-3 py-1 right-4 ring-inset rounded-full text-2xs text-sm top-2.5"><span class="flex items-center duration-300 pointer-events-none transition gap-0.5 text-zinc-400" aria-hidden=false><svg height=1.2em viewBox="0 0 24 24" width=1.2em className="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><!-- HTML_TAG_START --><path d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184c1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=1.5 /><!-- HTML_TAG_END --></svg> Copy </span> <span class="flex items-center duration-300 pointer-events-none transition -translate-y-1.5 absolute inset-0 justify-center opacity-0 text-emerald-400" aria-hidden=true>Copied! </span></button></div></div></div> <h2>Locale Switchers</h2> <p>It is recommended that you use <code>a</code> tags for your locale switchers. This is because search engines and the SvelteKit prerenderer will follow these links, and index the pages they lead to. They also work if JavaScript is disabled. </p> <p>But, we need to make sure to tell the search engines that these links just lead to the same page in a different language, not separate pages. We do this by adding an <code>hreflang</code> attribute. </p> <div class="my-6 not-prose bg-zinc-900 dark:ring-1 dark:ring-white/10 overflow-hidden rounded-md shadow-md"><div class="dark:bg-white/2.5 group"> <div class=relative><div class="px-4 font-mono leading-6 overflow-x-auto py-3 text-white text-xs"> <pre class=language-HTML><code class=language-HTML><!-- HTML_TAG_START --><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/de<span class="token punctuation">"</span></span> <span class="token attr-name">hreflang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>de<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Deutsch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><!-- HTML_TAG_END --></code></pre></div> <button class="transition absolute opacity-0 backdrop-blur bg-white/5 dark:bg-white/2.5 dark:hover:bg-white/5 focus-visible:bg-orange-400/20 focus-visible:ring-1 focus-visible:ring-orange-400 focus:opacity-100 font-medium group-hover:opacity-100 group/button hover:bg-white/7.5 outline-none overflow-hidden pl-2 pr-3 py-1 right-4 ring-inset rounded-full text-2xs text-sm top-2.5"><span class="flex items-center duration-300 pointer-events-none transition gap-0.5 text-zinc-400" aria-hidden=false><svg height=1.2em viewBox="0 0 24 24" width=1.2em className="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><!-- HTML_TAG_START --><path d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184c1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=1.5 /><!-- HTML_TAG_END --></svg> Copy </span> <span class="flex items-center duration-300 pointer-events-none transition -translate-y-1.5 absolute inset-0 justify-center opacity-0 text-emerald-400" aria-hidden=true>Copied! </span></button></div></div></div> <h2>The Lang Attribute</h2> <p>Browsers determine the page's language by looking at the <code>lang</code> attribute on the <code>html</code> tag. We need to make sure that this attribute is set to the correct language, both during server rendering, and when switching languages on the client. </p> <h3>On the Server</h3> <p>SvelteKit offers a relatively simple way to set the <code>lang</code> attribute during server rendering. We can set it in a hook. </p> <p>In the app template, let's add a placeholder string in the <code>lang</code> attribute. </p> <div class="my-6 not-prose bg-zinc-900 dark:ring-1 dark:ring-white/10 overflow-hidden rounded-md shadow-md"><div class="flex bg-zinc-800 border-b border-zinc-700 dark:bg-transparent dark:border-zinc-800 flex-wrap gap-x-4 items-start px-4"><h3 class="py-3 text-white text-xs font-semibold mr-auto">src/app.html</h3> </div> <div class="dark:bg-white/2.5 group"> <div class=relative><div class="px-4 font-mono leading-6 overflow-x-auto py-3 text-white text-xs"> <pre class=language-HTML><code class=language-HTML><!-- HTML_TAG_START --><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>%lang%<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token comment">&lt;!-- ... --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
<!-- HTML_TAG_END --></code></pre></div> <button class="transition absolute opacity-0 backdrop-blur bg-white/5 dark:bg-white/2.5 dark:hover:bg-white/5 focus-visible:bg-orange-400/20 focus-visible:ring-1 focus-visible:ring-orange-400 focus:opacity-100 font-medium group-hover:opacity-100 group/button hover:bg-white/7.5 outline-none overflow-hidden pl-2 pr-3 py-1 right-4 ring-inset rounded-full text-2xs text-sm top-2.5"><span class="flex items-center duration-300 pointer-events-none transition gap-0.5 text-zinc-400" aria-hidden=false><svg height=1.2em viewBox="0 0 24 24" width=1.2em className="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><!-- HTML_TAG_START --><path d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184c1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=1.5 /><!-- HTML_TAG_END --></svg> Copy </span> <span class="flex items-center duration-300 pointer-events-none transition -translate-y-1.5 absolute inset-0 justify-center opacity-0 text-emerald-400" aria-hidden=true>Copied! </span></button></div></div></div> <p>Then in the server <code>handle</code> hook, we can replace it with the correct language. </p> <div class="my-6 not-prose bg-zinc-900 dark:ring-1 dark:ring-white/10 overflow-hidden rounded-md shadow-md"><div class="flex bg-zinc-800 border-b border-zinc-700 dark:bg-transparent dark:border-zinc-800 flex-wrap gap-x-4 items-start px-4"><h3 class="py-3 text-white text-xs font-semibold mr-auto">src/hooks.server.js</h3> </div> <div class="dark:bg-white/2.5 group"> <div class=relative><div class="px-4 font-mono leading-6 overflow-x-auto py-3 text-white text-xs"> <pre class=language-JavaScript><code class=language-JavaScript><!-- HTML_TAG_START --><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function function-variable">handle</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> event<span class="token punctuation">,</span> resolve <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">//Determine the locale from the URL.</span>
  <span class="token comment">//Implementing this is up to you, depending on your routing solution.</span>
  <span class="token keyword">const</span> locale <span class="token operator">=</span> <span class="token function">getLocale</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">resolve</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">//Replace the placeholder %lang% with the current locale.</span>
    <span class="token function">transformPageChunk</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> html <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      html <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"%lang%"</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> html<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> response<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<!-- HTML_TAG_END --></code></pre></div> <button class="transition absolute opacity-0 backdrop-blur bg-white/5 dark:bg-white/2.5 dark:hover:bg-white/5 focus-visible:bg-orange-400/20 focus-visible:ring-1 focus-visible:ring-orange-400 focus:opacity-100 font-medium group-hover:opacity-100 group/button hover:bg-white/7.5 outline-none overflow-hidden pl-2 pr-3 py-1 right-4 ring-inset rounded-full text-2xs text-sm top-2.5"><span class="flex items-center duration-300 pointer-events-none transition gap-0.5 text-zinc-400" aria-hidden=false><svg height=1.2em viewBox="0 0 24 24" width=1.2em className="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><!-- HTML_TAG_START --><path d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184c1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=1.5 /><!-- HTML_TAG_END --></svg> Copy </span> <span class="flex items-center duration-300 pointer-events-none transition -translate-y-1.5 absolute inset-0 justify-center opacity-0 text-emerald-400" aria-hidden=true>Copied! </span></button></div></div></div> <h3>On the client</h3> <p>T18S does not do a full page reload when switching languages, so we need to make sure that the <code>lang</code> attribute gets set correctly when switching languages on the client. </p> <p>In the root layout. Check that we are in the browser, and then reactively set the <code>lang</code> attribute base on the <code>$locale</code> store exported by T18S. </p> <div class="my-6 not-prose bg-zinc-900 dark:ring-1 dark:ring-white/10 overflow-hidden rounded-md shadow-md"><div class="flex bg-zinc-800 border-b border-zinc-700 dark:bg-transparent dark:border-zinc-800 flex-wrap gap-x-4 items-start px-4"><h3 class="py-3 text-white text-xs font-semibold mr-auto">src/routes/+layout.svelte</h3> </div> <div class="dark:bg-white/2.5 group"> <div class=relative><div class="px-4 font-mono leading-6 overflow-x-auto py-3 text-white text-xs"> <pre class=language-Svelte><code class=language-Svelte><!-- HTML_TAG_START --><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span> locale <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"$t18s"</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span> browser <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"$app/environment"</span><span class="token punctuation">;</span>
    <span class="token literal-property property">$</span><span class="token operator">:</span> <span class="token keyword">if</span><span class="token punctuation">(</span>browser<span class="token punctuation">)</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>lang <span class="token operator">=</span> $locale<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/></span></span> <!-- HTML_TAG_END --></code></pre></div> <button class="transition absolute opacity-0 backdrop-blur bg-white/5 dark:bg-white/2.5 dark:hover:bg-white/5 focus-visible:bg-orange-400/20 focus-visible:ring-1 focus-visible:ring-orange-400 focus:opacity-100 font-medium group-hover:opacity-100 group/button hover:bg-white/7.5 outline-none overflow-hidden pl-2 pr-3 py-1 right-4 ring-inset rounded-full text-2xs text-sm top-2.5"><span class="flex items-center duration-300 pointer-events-none transition gap-0.5 text-zinc-400" aria-hidden=false><svg height=1.2em viewBox="0 0 24 24" width=1.2em className="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><!-- HTML_TAG_START --><path d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184c1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=1.5 /><!-- HTML_TAG_END --></svg> Copy </span> <span class="flex items-center duration-300 pointer-events-none transition -translate-y-1.5 absolute inset-0 justify-center opacity-0 text-emerald-400" aria-hidden=true>Copied! </span></button></div></div></div> <div class="flex p-4 bg-blue-50 border border-blue-500/20 gap-2.5 leading-6 my-6 not-prose rounded-2xl text-gray-900"><svg height=1.2em viewBox="0 0 24 24" width=1.2em class="flex-none h-4 mt-1 text-blue-500 w-4"><!-- HTML_TAG_START --><path d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75s-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836l.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836l-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5a.75.75 0 0 0 0 1.5Z" fill=currentColor clip-rule=evenodd fill-rule=evenodd /><!-- HTML_TAG_END --></svg> <div class="[&>:first-child]:mt-0 [&>:last-child]:mb-0"><p>This may become built in behavior in the future, depending on feedback. Old code probably won't break, so you can add this now without worrying about it. </div></div></div></main></div> <script>{__sveltekit_16p9bma={base:new URL(".",location).pathname.slice(0,-1),env:{}};const a=document.currentScript.parentElement,b=[null,null,null];Promise.all([import("./_app/immutable/entry/start.a1d86707.js"),import("./_app/immutable/entry/app.86b15ecd.js")]).then(([t,e])=>{t.start(e,a,{node_ids:[0,2,11],data:b,form:null,error:null})})}</script> </div> 