var D=Object.defineProperty;var k=(i,e,t)=>e in i?D(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var h=(i,e,t)=>(k(i,typeof e!="symbol"?e+"":e,t),t);import{s as F,x as S,n as v,r as G,c as N,o as B,y as R,k as c,b as H}from"./scheduler.01b8d7a8.js";import{S as U,i as Y,g as V,h as K,j as W,f as w,k as I,J as u,l as f,a as j,F as p}from"./index.2642cb86.js";import{w as L}from"./index.ba316ebd.js";const ae=(...i)=>i.filter(Boolean).join(" ");var le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function he(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}const z=225,q=.2,X=10,J=75,Z=.35,Q="::after",x="forwards",$=150;var l;(function(i){i[i.INACTIVE=0]="INACTIVE",i[i.TOUCH_DELAY=1]="TOUCH_DELAY",i[i.HOLDING=2]="HOLDING",i[i.WAITING_FOR_CLICK=3]="WAITING_FOR_CLICK"})(l||(l={}));class ee{constructor({ref:e,disabled:t,hovered:o,pressed:a,easing:s,duration:n}){h(this,"ref");h(this,"disabled");h(this,"hovered");h(this,"pressed");h(this,"easing");h(this,"duration");h(this,"rippleSize","");h(this,"rippleScale","");h(this,"initialSize",0);h(this,"state",l.INACTIVE);h(this,"checkBoundsAfterContextMenu",!1);h(this,"growAnimation");h(this,"rippleStartEvent");this.ref=e,this.disabled=t,this.hovered=o,this.pressed=a,this.easing=s,this.duration=n}handlePointerenter(e){this.shouldReactToEvent(e)&&this.hovered.set(!0)}handlePointerleave(e){this.shouldReactToEvent(e)&&(this.hovered.set(!1),this.state!==l.INACTIVE&&this.endPressAnimation())}handlePointerup(e){if(this.shouldReactToEvent(e)){if(this.state===l.HOLDING){this.state=l.WAITING_FOR_CLICK;return}if(this.state===l.TOUCH_DELAY){this.state=l.WAITING_FOR_CLICK,this.startPressAnimation(this.rippleStartEvent);return}}}async handlePointerdown(e){if(this.shouldReactToEvent(e)){if(this.rippleStartEvent=e,!this.isTouch(e)){this.state=l.WAITING_FOR_CLICK,this.startPressAnimation(e);return}this.checkBoundsAfterContextMenu&&!this.inBounds(e)||(this.checkBoundsAfterContextMenu=!1,this.state=l.TOUCH_DELAY,await new Promise(t=>{setTimeout(t,$)}),this.state===l.TOUCH_DELAY&&(this.state=l.HOLDING,this.startPressAnimation(e)))}}handleClick(){if(!this.disabled){if(this.state===l.WAITING_FOR_CLICK){this.endPressAnimation();return}this.state===l.INACTIVE&&(this.startPressAnimation(),this.endPressAnimation())}}handlePointercancel(e){this.shouldReactToEvent(e)&&this.endPressAnimation()}handleContextmenu(){this.disabled||(this.checkBoundsAfterContextMenu=!0,this.endPressAnimation())}determineRippleSize(){const{height:e,width:t}=this.ref.getBoundingClientRect(),o=Math.max(e,t),a=Math.max(Z*o,J),s=Math.floor(o*q),m=Math.sqrt(t**2+e**2)+X;this.initialSize=s,this.rippleScale=`${(m+a)/s}`,this.rippleSize=`${s}px`}getNormalizedPointerEventCoords(e){const{scrollX:t,scrollY:o}=window,{left:a,top:s}=this.ref.getBoundingClientRect(),{pageX:n,pageY:m}=e;return{x:n-t-a,y:m-o-s}}getTranslationCoordinates(e){const{height:t,width:o}=this.ref.getBoundingClientRect(),a=e instanceof PointerEvent?this.getNormalizedPointerEventCoords(e):{x:o/2,y:t/2};a.x-=this.initialSize/2,a.y-=this.initialSize/2;const s={x:(o-this.initialSize)/2,y:(t-this.initialSize)/2};return{startPoint:a,endPoint:s}}startPressAnimation(e){var n;if(!this.ref)return;this.pressed.set(!0),(n=this.growAnimation)==null||n.cancel(),this.determineRippleSize();const{startPoint:t,endPoint:o}=this.getTranslationCoordinates(e),a=`${t.x}px, ${t.y}px`,s=`${o.x}px, ${o.y}px`;this.growAnimation=this.ref.animate({top:[0,0],left:[0,0],height:[this.rippleSize,this.rippleSize],width:[this.rippleSize,this.rippleSize],transform:[`translate(${a}) scale(1)`,`translate(${s}) scale(${this.rippleScale})`]},{pseudoElement:Q,duration:this.duration,easing:this.easing,fill:x})}async endPressAnimation(){this.state=l.INACTIVE;const e=this.growAnimation;let t=1/0;if(typeof(e==null?void 0:e.currentTime)=="number"?t=e.currentTime:e!=null&&e.currentTime&&(t=e.currentTime.to("ms").value),t>=z){this.pressed.set(!1);return}await new Promise(o=>{setTimeout(o,z-t)}),this.growAnimation===e&&this.pressed.set(!1)}shouldReactToEvent(e){if(this.disabled||!e.isPrimary||this.rippleStartEvent&&this.rippleStartEvent.pointerId!==e.pointerId)return!1;if(e.type==="pointerenter"||e.type==="pointerleave")return!this.isTouch(e);const t=e.buttons===1;return this.isTouch(e)||t}inBounds({x:e,y:t}){const{top:o,left:a,bottom:s,right:n}=this.ref.getBoundingClientRect();return e>=a&&e<=n&&t>=o&&t<=s}isTouch({pointerType:e}){return e==="touch"}}function ie(i){let e,t,o,a;return{c(){e=V("div"),this.h()},l(s){e=K(s,"DIV",{"aria-hidden":!0,"data-ripple":!0,class:!0}),W(e).forEach(w),this.h()},h(){I(e,"aria-hidden","true"),I(e,"data-ripple",""),I(e,"class",t=S(i[7]?`surface ${i[7]}`:"surface")+" svelte-12trimq"),u(e,"hovered",i[11]),u(e,"pressed",i[10]),u(e,"fallback",!i[8]&&!i[6]),u(e,"disabled",i[1]),f(e,"--ripple-hover-color",i[2]),f(e,"--ripple-hover-opacity",i[3]),f(e,"--ripple-pressed-color",i[4]),f(e,"--ripple-pressed-opacity",i[5])},m(s,n){j(s,e,n),i[16](e),o||(a=[p(e,"pointerenter",function(){c(i[9].handlePointerenter.bind(i[9]))&&i[9].handlePointerenter.bind(i[9]).apply(this,arguments)}),p(e,"pointerleave",function(){c(i[9].handlePointerleave.bind(i[9]))&&i[9].handlePointerleave.bind(i[9]).apply(this,arguments)}),p(e,"pointerup",function(){c(i[9].handlePointerup.bind(i[9]))&&i[9].handlePointerup.bind(i[9]).apply(this,arguments)}),p(e,"pointerdown",function(){c(i[9].handlePointerdown.bind(i[9]))&&i[9].handlePointerdown.bind(i[9]).apply(this,arguments)}),p(e,"click",function(){c(i[9].handleClick.bind(i[9]))&&i[9].handleClick.bind(i[9]).apply(this,arguments)}),p(e,"pointercancel",function(){c(i[9].handlePointercancel.bind(i[9]))&&i[9].handlePointercancel.bind(i[9]).apply(this,arguments)}),p(e,"contextmenu",function(){c(i[9].handleContextmenu.bind(i[9]))&&i[9].handleContextmenu.bind(i[9]).apply(this,arguments)})],o=!0)},p(s,[n]){i=s,n&128&&t!==(t=S(i[7]?`surface ${i[7]}`:"surface")+" svelte-12trimq")&&I(e,"class",t),n&2176&&u(e,"hovered",i[11]),n&1152&&u(e,"pressed",i[10]),n&448&&u(e,"fallback",!i[8]&&!i[6]),n&130&&u(e,"disabled",i[1]),n&4&&f(e,"--ripple-hover-color",i[2]),n&8&&f(e,"--ripple-hover-opacity",i[3]),n&16&&f(e,"--ripple-pressed-color",i[4]),n&32&&f(e,"--ripple-pressed-opacity",i[5])},i:v,o:v,d(s){s&&w(e),i[16](null),o=!1,G(a)}}}function te(i,e,t){let o,a,{ref:s=void 0}=e,{disabled:n=!1}=e,{hoverColor:m=void 0}=e,{hoverOpacity:A=void 0}=e,{pressedColor:y=void 0}=e,{pressedOpacity:T=void 0}=e,{easing:_="cubic-bezier(0.2, 0, 0, 1)"}=e,{duration:C=450}=e,{disableFallback:P=!1}=e,{class:E=void 0}=e,O=!1;const b=L(!1);N(i,b,r=>t(11,a=r));const g=L(!1);N(i,g,r=>t(10,o=r));const d=new ee({ref:s,disabled:n,hovered:b,pressed:g,easing:_,duration:C});B(()=>{t(8,O=!0)});function M(r){H[r?"unshift":"push"](()=>{s=r,t(0,s)})}return i.$$set=r=>{"ref"in r&&t(0,s=r.ref),"disabled"in r&&t(1,n=r.disabled),"hoverColor"in r&&t(2,m=r.hoverColor),"hoverOpacity"in r&&t(3,A=r.hoverOpacity),"pressedColor"in r&&t(4,y=r.pressedColor),"pressedOpacity"in r&&t(5,T=r.pressedOpacity),"easing"in r&&t(14,_=r.easing),"duration"in r&&t(15,C=r.duration),"disableFallback"in r&&t(6,P=r.disableFallback),"class"in r&&t(7,E=r.class)},i.$$.update=()=>{i.$$.dirty&2&&n&&(R(b,a=!1,a),R(g,o=!1,o)),i.$$.dirty&1&&t(9,d.ref=s,d),i.$$.dirty&2&&t(9,d.disabled=n,d),i.$$.dirty&16384&&t(9,d.easing=_,d),i.$$.dirty&32768&&t(9,d.duration=C,d)},[s,n,m,A,y,T,P,E,O,d,o,a,b,g,_,C,M]}class de extends U{constructor(e){super(),Y(this,e,te,ie,F,{ref:0,disabled:1,hoverColor:2,hoverOpacity:3,pressedColor:4,pressedOpacity:5,easing:14,duration:15,disableFallback:6,class:7})}}export{de as R,le as c,he as g,ae as m};
